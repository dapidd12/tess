<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dapid Dev | Social Hub</title>
    <!-- Preload dengan teknik yang lebih efisien -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" as="style">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" media="print" onload="this.media='all'">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">
    <style>
        :root {
            --primary: #8a2be2;
            --secondary: #00e5ff;
            --accent: #ff00ff;
            --dark-bg: #0a0a1a;
            --card-bg: rgba(20, 15, 40, 0.7);
            --text-light: #f0f8ff;
            --text-dim: #b0b8d0;
            --glass-border: rgba(138, 43, 226, 0.3);
            --transition-fast: 150ms;
            --transition-normal: 250ms;
            --transition-slow: 400ms;
            --off-white: #E6E6E6;
            
            /* VARIABLE TEMPO GLOBAL */
            --tempo-idle: 6s;
            --tempo-focus: 7s;
            --tempo-scan: 1.5s;
            --tempo-success: 0.8s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        body {
            background-color: var(--dark-bg);
            color: var(--text-light);
            min-height: 100vh;
            overflow-x: hidden;
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }

            [data-aos] {
                opacity: 1 !important;
                transform: none !important;
                transition: none !important;
            }
            
            /* NONAKTIFKAN TEMPO GLOBAL */
            .snake-top,
            .snake-bottom,
            .fingerprint-scan-ring {
                animation: none !important;
            }
            
            .fingerprint-container.scanning .fingerprint-glow,
            .fingerprint-container.scanning .fingerprint-scan-line {
                animation: none !important;
            }
            
            .social-btn::before {
                animation: none !important;
            }
        }

        /* BACKGROUND VIDEO - OPTIMASI UNTUK MOBILE */
        .background-video-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1000;
            overflow: hidden;
        }

        #bg-video {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            min-width: 100%;
            min-height: 100%;
            object-fit: cover;
            background-color: #0a0a1a;
            filter: brightness(1.1) contrast(1.15) saturate(1.25);
            opacity: 1;
            display: block !important;
        }

        /* OVERLAY - TIPIS SAJA */
        .video-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg,
                rgba(10, 5, 20, 0.55) 0%,
                rgba(20, 10, 40, 0.5) 100%);
            z-index: -999;
            pointer-events: none;
        }

        /* FALLBACK - HANYA UNTUK EMERGENCY */
        .video-fallback {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 50% 50%, 
                rgba(138, 43, 226, 0.15) 0%, 
                rgba(0, 229, 255, 0.1) 50%,
                rgba(10, 5, 25, 0.95) 100%);
            display: none;
            z-index: -998;
        }

        .video-fallback.active {
            display: block;
        }

        /* Loading Screen */
        #loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--dark-bg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            transition: opacity var(--transition-slow) ease;
            opacity: 1;
        }

        #loading.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 4px solid rgba(138, 43, 226, 0.2);
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            100% { transform: rotate(360deg); }
        }

        /* Welcome Modal */
        .welcome-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            animation: fadeIn 0.4s ease;
        }

        .welcome-modal.hidden {
            display: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .welcome-content {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.1) 0%, rgba(0, 229, 255, 0.05) 100%);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 50px 40px;
            max-width: 500px;
            text-align: center;
            backdrop-filter: blur(10px);
            animation: slideUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
        }

        .welcome-title {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            color: var(--text-dim);
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .welcome-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(138, 43, 226, 0.2);
            border: 1px solid var(--glass-border);
            color: var(--secondary);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-normal) ease;
            border: none;
        }

        .welcome-close:hover {
            background: rgba(138, 43, 226, 0.4);
            transform: scale(1.06);
        }

        .welcome-close:active {
            transform: scale(0.97);
        }

        .welcome-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: glitch-bounce 1.5s infinite;
        }

        @keyframes glitch-bounce {
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(-2px, 2px); }
            50% { transform: translate(2px, -2px); }
            75% { transform: translate(-2px, -2px); }
        }

        /* Main Content */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px 20px;
            opacity: 1;
            transition: opacity var(--transition-normal) ease;
            position: relative;
            z-index: 1;
        }

        .hero-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 50px;
            padding-top: 20px;
        }

        /* PROFIL â€“ DUAL SNAKE SYSTEM */
        .profile-photo-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin-bottom: 25px;
            cursor: pointer;
            transition: transform var(--transition-normal) cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .profile-photo-container:hover {
            transform: scale(1.04);
        }

        .profile-photo-container:active {
            transform: scale(0.98);
        }

        .profile-photo {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            position: relative;
            z-index: 2;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            box-shadow: inset 0 4px 20px rgba(0, 0, 0, 0.4);
            transition: box-shadow var(--transition-normal) ease;
        }

        .profile-photo-container:hover .profile-photo {
            box-shadow: inset 0 4px 30px rgba(0, 0, 0, 0.5);
        }

        /* Dual Snake System - Atas & Bawah */
        .snake-top,
        .snake-bottom {
            position: absolute;
            top: -8px;
            left: -8px;
            right: -8px;
            bottom: -8px;
            border-radius: 50%;
            z-index: 1;
            filter: blur(4px);
            opacity: 0.8;
            transition: all var(--transition-normal) ease;
            /* TEMPO GLOBAL DIKONTROL OLEH JS */
        }

        .snake-top {
            background: conic-gradient(
                from 0deg,
                transparent 0deg 120deg,
                var(--secondary) 120deg 180deg,
                var(--primary) 180deg 240deg,
                var(--secondary) 240deg 300deg,
                transparent 300deg 360deg
            );
            clip-path: polygon(0% 0%, 100% 0%, 100% 50%, 0% 50%);
        }

        .snake-bottom {
            background: conic-gradient(
                from 180deg,
                transparent 0deg 120deg,
                var(--secondary) 120deg 180deg,
                var(--primary) 180deg 240deg,
                var(--secondary) 240deg 300deg,
                transparent 300deg 360deg
            );
            clip-path: polygon(0% 50%, 100% 50%, 100% 100%, 0% 100%);
        }

        @keyframes rotate-snake-clockwise {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .title-section {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* HAPUS MAIN TITLE DAPID - diganti dengan elegan single identity */
        .main-title {
            font-size: 0;
            height: 0;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: none;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--text-dim);
            max-width: 600px;
            margin: 0 auto 30px;
            line-height: 1.6;
        }

        /* NAMA PROFIL SATU-SATUNYA - CLEAN & ELEGAN */
        .profile-name {
            font-size: 1.8rem;
            color: var(--off-white);
            font-weight: 550;
            letter-spacing: 2.5px;
            margin-top: 5px;
            margin-bottom: 25px;
            opacity: 0;
            animation: fade-in 0.8s ease 0.4s forwards;
            position: relative;
            text-transform: uppercase;
        }

        @keyframes fade-in {
            to { opacity: 1; }
        }

        .profile-name::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 1px;
            background-color: var(--off-white);
            opacity: 0.4;
        }

        /* FINGERPRINT SECTION - IMPROVED */
        .fingerprint-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0 40px;
            position: relative;
            width: 100%;
        }

        .fingerprint-container {
            position: relative;
            width: 80px;
            height: 80px;
            cursor: pointer;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            margin-bottom: 10px;
            transition: transform var(--transition-normal) ease;
            touch-action: manipulation;
        }

        .fingerprint-container:hover:not(.scanning) {
            transform: scale(1.05);
        }

        .fingerprint-icon {
            font-size: 4rem;
            color: var(--text-dim);
            transition: all var(--transition-normal) ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            position: relative;
            z-index: 2;
        }

        .fingerprint-glow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle at center, 
                rgba(138, 43, 226, 0) 0%,
                rgba(138, 43, 226, 0.1) 50%,
                rgba(0, 229, 255, 0.05) 100%);
            opacity: 0;
            transition: opacity var(--transition-slow) ease;
            z-index: 1;
        }

        /* Scan line baru */
        .fingerprint-scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                var(--secondary) 20%, 
                var(--primary) 50%, 
                var(--secondary) 80%, 
                transparent 100%);
            opacity: 0;
            z-index: 3;
            filter: blur(0.5px);
        }

        .fingerprint-scan-ring {
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border-radius: 50%;
            border: 2px solid transparent;
            border-top-color: var(--primary);
            z-index: 0;
            opacity: 0;
            /* TEMPO GLOBAL DIKONTROL OLEH JS */
        }

        .fingerprint-hint {
            font-size: 0.85rem;
            color: var(--text-dim);
            opacity: 0.7;
            margin-top: 8px;
            text-align: center;
            letter-spacing: 1px;
            transition: all var(--transition-normal) ease;
            filter: blur(0);
        }

        .fingerprint-container:hover .fingerprint-hint {
            opacity: 1;
            filter: blur(0.2px);
        }

        /* Scanning states - NOW CONTROLLED BY JS TEMPO */
        .fingerprint-container.scanning .fingerprint-icon {
            color: var(--secondary);
            text-shadow: 0 0 15px rgba(0, 229, 255, 0.7);
        }

        .fingerprint-container.scan-success .fingerprint-icon {
            color: var(--accent);
            animation: flash-success 0.6s ease;
        }

        .fingerprint-container.scan-success .fingerprint-glow {
            animation: glow-shrink 0.8s ease forwards;
        }

        @keyframes scan-move {
            0% {
                top: 0;
                opacity: 0.2;
            }
            50% {
                opacity: 0.6;
            }
            100% {
                top: 100%;
                opacity: 0.2;
            }
        }

        @keyframes glow-shrink {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(0.3);
                opacity: 0;
            }
        }

        @keyframes pulse-glow {
            from {
                transform: scale(0.9);
                opacity: 0.3;
            }
            to {
                transform: scale(1.1);
                opacity: 0.7;
            }
        }

        @keyframes scan-rotate {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes flash-success {
            0%, 100% {
                color: var(--accent);
                text-shadow: 0 0 15px rgba(255, 0, 255, 0.7);
            }
            50% {
                color: var(--secondary);
                text-shadow: 0 0 30px rgba(0, 229, 255, 1);
            }
        }

        /* IDENTITY POPUP - FIXED RESPONSIVE */
        .identity-popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(12px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 4000;
            animation: fadeIn 0.3s ease;
            padding: 15px;
            overflow-y: auto;
        }

        .identity-popup-overlay.active {
            display: flex;
        }

        .identity-popup-card {
            background: linear-gradient(135deg, 
                rgba(20, 15, 40, 0.95) 0%,
                rgba(10, 5, 25, 0.98) 100%);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 35px 30px;
            width: 100%;
            max-width: 600px;
            max-height: 85vh;
            backdrop-filter: blur(15px);
            position: relative;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4),
                        0 0 0 1px rgba(138, 43, 226, 0.1),
                        0 0 30px rgba(138, 43, 226, 0.15);
            animation: slideUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            display: flex;
            flex-direction: column;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.98);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .popup-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 25px;
            flex-shrink: 0;
        }

        .popup-title {
            font-size: 1.8rem;
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
            letter-spacing: 1px;
            line-height: 1.3;
        }

        .popup-close {
            background: rgba(138, 43, 226, 0.2);
            border: 1px solid var(--glass-border);
            color: var(--secondary);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-normal) ease;
            border: none;
            flex-shrink: 0;
        }

        .popup-close:hover {
            background: rgba(138, 43, 226, 0.4);
            transform: scale(1.06);
        }

        .popup-close:active {
            transform: scale(0.97);
        }

        .popup-content {
            font-size: 1.1rem;
            line-height: 1.6;
            color: var(--text-light);
            position: relative;
            overflow-y: auto;
            scroll-behavior: smooth;
            flex: 1;
            min-height: 0;
            padding-right: 5px;
        }

        .popup-content::-webkit-scrollbar {
            width: 4px;
        }

        .popup-content::-webkit-scrollbar-track {
            background: rgba(138, 43, 226, 0.1);
            border-radius: 10px;
        }

        .popup-content::-webkit-scrollbar-thumb {
            background: rgba(138, 43, 226, 0.4);
            border-radius: 10px;
        }

        .popup-content::-webkit-scrollbar-thumb:hover {
            background: rgba(138, 43, 226, 0.6);
        }

        .typing-line {
            margin-bottom: 18px;
            opacity: 0;
            transform: translateY(8px);
            animation: fadeInUp 0.3s ease forwards;
            min-height: 1.6em;
            word-wrap: break-word;
            overflow-wrap: break-word;
            hyphens: auto;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .typing-cursor {
            display: inline-block;
            width: 2px;
            height: 1.2em;
            background: linear-gradient(to bottom, var(--secondary), var(--accent));
            margin-left: 4px;
            animation: blink-cursor 0.8s infinite;
            vertical-align: middle;
            opacity: 0.8;
        }

        @keyframes blink-cursor {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.2; }
        }

        .typing-complete .typing-cursor {
            display: none;
        }

        /* SOCIAL BUTTONS - IMPROVED WITH IDENTITY */
        .social-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .social-btn {
            position: relative;
            background: var(--card-bg);
            border-radius: 16px;
            padding: 22px 25px;
            display: flex;
            align-items: center;
            gap: 20px;
            text-decoration: none;
            color: var(--text-light);
            transition: all var(--transition-normal) cubic-bezier(0.34, 1.56, 0.64, 1);
            overflow: hidden;
            z-index: 1;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(138, 43, 226, 0.1);
            transform-origin: center;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* Directional snake effect dengan transform origin */
        .social-btn::before {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            border-radius: 18px;
            background: conic-gradient(
                from 0deg,
                transparent 0deg 120deg,
                var(--secondary) 120deg 180deg,
                var(--primary) 180deg 240deg,
                var(--secondary) 240deg 300deg,
                transparent 300deg 360deg
            );
            animation: rotate-snake-clockwise 4s linear infinite;
            z-index: -1;
            filter: blur(4px);
            opacity: 0.8;
            transform-origin: center;
            transition: all var(--transition-normal) ease;
        }

        /* Hover Effect dengan directional feedback */
        .social-btn:hover {
            transform: translateY(-5px) scale(1.04);
            border-color: rgba(138, 43, 226, 0.2);
        }

        .social-btn:hover::before {
            animation-duration: 2s;
        }

        /* Active/Click Effect dengan inner pressure */
        .social-btn:active {
            transform: translateY(-2px) scale(0.98);
            transition-duration: var(--transition-fast);
        }

        .social-btn.clicking::before {
            animation-play-state: paused;
        }

        .social-btn.clicking .inner-bg {
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
            transform: scaleY(0.98);
        }

        /* Ripple Effect */
        .social-btn::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: radial-gradient(circle at center, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity var(--transition-fast) ease;
            pointer-events: none;
        }

        .social-btn:active::after {
            opacity: 1;
            transition-duration: 100ms;
        }

        .social-btn .inner-bg {
            position: absolute;
            top: 1px;
            left: 1px;
            right: 1px;
            bottom: 1px;
            background: var(--card-bg);
            border-radius: 15px;
            z-index: -1;
            transition: all var(--transition-normal) ease;
        }

        .social-icon {
            font-size: 2rem;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            background: rgba(138, 43, 226, 0.15);
            flex-shrink: 0;
            transition: all var(--transition-normal) ease;
        }

        .social-btn:hover .social-icon {
            transform: scale(1.1);
            background: rgba(138, 43, 226, 0.25);
        }

        .social-text {
            flex: 1;
        }

        .social-name {
            font-size: 1.2rem;
            font-weight: 600;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 20px;
            border-top: 1px solid var(--glass-border);
            margin-top: 50px;
            color: var(--text-dim);
        }

        .developer-credit {
            font-size: 0.95rem;
            opacity: 0.8;
        }

        /* Fullscreen Overlay */
        .fullscreen-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .fullscreen-overlay.active {
            display: flex;
        }

        .fullscreen-image-container {
            position: relative;
            max-width: 90vw;
            max-height: 90vh;
        }

        .fullscreen-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 10px;
        }

        .close-btn {
            position: absolute;
            top: -30px;
            right: 0;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 2.5rem;
            cursor: pointer;
            padding: 10px 20px;
            transition: all var(--transition-normal) ease;
            z-index: 10000;
        }

        .close-btn:hover {
            color: var(--secondary);
            transform: scale(1.1);
        }

        .close-btn:active {
            transform: scale(0.95);
        }

        /* Responsive Optimizations */
        @media (max-width: 768px) {
            .profile-name {
                font-size: 1.5rem;
                letter-spacing: 2px;
                margin-bottom: 20px;
            }

            .subtitle {
                font-size: 1rem;
            }

            .social-grid {
                grid-template-columns: 1fr;
            }

            .social-icon {
                width: 50px;
                height: 50px;
                font-size: 1.7rem;
            }

            .social-name {
                font-size: 1.1rem;
            }

            .social-btn:hover {
                transform: translateY(-3px) scale(1.02);
            }

            .video-overlay {
                background: linear-gradient(135deg,
                    rgba(10, 5, 20, 0.6) 0%,
                    rgba(20, 10, 40, 0.55) 100%);
            }

            /* Reduce GPU load on mobile */
            .social-btn::before,
            .snake-top,
            .snake-bottom {
                animation-duration: 8s;
            }
            
            .social-btn:hover::before {
                animation-duration: 4s;
            }
            
            .welcome-content,
            .social-btn {
                backdrop-filter: blur(5px);
            }

            /* Fingerprint responsive */
            .fingerprint-container {
                width: 70px;
                height: 70px;
            }

            .fingerprint-icon {
                font-size: 3.5rem;
            }

            /* IDENTITY POPUP RESPONSIVE FIXES */
            .identity-popup-card {
                padding: 25px 20px;
                max-width: 95%;
                max-height: 80vh;
                border-radius: 16px;
            }

            .popup-title {
                font-size: 1.4rem;
            }

            .popup-content {
                font-size: 0.95rem;
                line-height: 1.5;
            }

            .typing-line {
                margin-bottom: 15px;
                min-height: 1.5em;
            }

            .popup-close {
                width: 36px;
                height: 36px;
                font-size: 1.3rem;
            }

            .profile-photo-container {
                width: 180px;
                height: 180px;
            }

            .snake-top,
            .snake-bottom {
                top: -6px;
                left: -6px;
                right: -6px;
                bottom: -6px;
            }
        }

        @media (max-width: 480px) {
            .profile-name {
                font-size: 1.3rem;
                letter-spacing: 1.5px;
            }

            .profile-name::after {
                width: 60px;
                bottom: -8px;
            }

            .identity-popup-card {
                padding: 20px 15px;
                max-height: 75vh;
            }

            .popup-title {
                font-size: 1.2rem;
            }

            .popup-content {
                font-size: 0.9rem;
            }

            .typing-line {
                margin-bottom: 12px;
            }

            .profile-photo-container {
                width: 160px;
                height: 160px;
            }

            .fingerprint-container {
                width: 60px;
                height: 60px;
            }

            .fingerprint-icon {
                font-size: 3rem;
            }

            .fingerprint-hint {
                font-size: 0.75rem;
            }
        }

        @media (orientation: landscape) and (max-height: 500px) {
            .identity-popup-card {
                max-height: 90vh;
                max-width: 90%;
            }

            .popup-content {
                font-size: 0.9rem;
                line-height: 1.4;
            }

            .typing-line {
                margin-bottom: 10px;
                min-height: 1.4em;
            }
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .video-overlay {
                background: rgba(10, 5, 20, 0.7);
            }
            
            #bg-video {
                filter: brightness(1.2) contrast(1.3) saturate(1.3);
            }
            
            .social-btn::before,
            .snake-top,
            .snake-bottom {
                opacity: 1;
                filter: blur(3px);
            }

            .fingerprint-icon {
                filter: brightness(1.3);
            }
        }

        /* Dark mode preference */
        @media (prefers-color-scheme: dark) {
            #bg-video {
                filter: brightness(1.05) contrast(1.2) saturate(1.2);
            }
        }
    </style>
</head>
<body>
    <!-- BACKGROUND VIDEO - OPTIMASI UNTUK MOBILE -->
    <div class="background-video-wrapper">
        <video id="bg-video" autoplay muted loop playsinline preload="metadata"
               crossorigin="anonymous" aria-hidden="true">
            <source src="https://files.catbox.moe/cj5z4p.mp4" type="video/mp4">
            <!-- Video backup - resolusi ringan, pasti bisa di HP low-end -->
            <source src="https://files.catbox.moe/cj5z4p.mp4" type="video/mp4">
            Your browser does not support HTML5 video.
        </video>
        <div class="video-fallback" id="videoFallback"></div>
    </div>
    <div class="video-overlay"></div>

    <!-- IDENTITY POPUP -->
    <div class="identity-popup-overlay" id="identityPopup">
        <div class="identity-popup-card">
            <div class="popup-header">
                <h2 class="popup-title">Identity Scan</h2>
                <button class="popup-close" id="closeIdentityPopup" aria-label="Close identity popup">Ã—</button>
            </div>
            <div class="popup-content" id="identityContent">
                <!-- Content will be dynamically added by JavaScript -->
            </div>
        </div>
    </div>

    <div id="loading">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>

    <div id="welcomeModal" class="welcome-modal hidden">
        <div class="welcome-content">
            <button class="welcome-close" id="closeWelcome" aria-label="Close welcome message">Ã—</button>
            <div class="welcome-icon">
                <i class="fas fa-virus"></i>
            </div>
            <h2 class="welcome-title">Welcome</h2>
            <p class="welcome-subtitle">WELCOME TO MY WEBSITE...</p>
        </div>
    </div>

    <audio id="bg-music" preload="auto" loop>
        <source src="https://files.catbox.moe/mc4oeu.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div class="fullscreen-overlay" id="fullscreenOverlay">
        <div class="fullscreen-image-container">
            <button class="close-btn" id="closeFullscreen" aria-label="Close fullscreen image">&times;</button>
            <img src="" alt="Fullscreen Profile" class="fullscreen-image" id="fullscreenImage" loading="lazy">
            <div class="inner-bg"></div>
        </div>
    </div>

    <div class="container" id="main-content">
        <section class="hero-section" data-aos="fade-up" data-aos-duration="600" data-aos-delay="100">
            <div class="profile-photo-container" id="profilePhotoContainer" data-aos="zoom-in" data-aos-duration="500">
                <!-- DUAL SNAKE SYSTEM -->
                <div class="snake-top"></div>
                <div class="snake-bottom"></div>
                
                <img src="https://files.catbox.moe/4avqmx.jpg"
                     alt="Dapid Profile Photo"
                     class="profile-photo"
                     id="profilePhoto"
                     loading="eager"
                     decoding="async">
            </div>

            <div class="title-section">
                <!-- HAPUS DUPLIKASI: Main title disembunyikan -->
                <h1 class="main-title" data-aos="fade-up" data-aos-duration="500" data-aos-delay="200"></h1>
                
                <!-- NAMA PROFIL SATU-SATUNYA - CLEAN & ELEGAN -->
                <div class="profile-name" data-aos="fade-up" data-aos-duration="500" data-aos-delay="250">
                    DAPID | DEV
                </div>
                
                <p class="subtitle" data-aos="fade-up" data-aos-duration="500" data-aos-delay="300">Developer | Student | Tech Enthusiast</p>
                
                <!-- FINGERPRINT SECTION - IMPROVED -->
                <div class="fingerprint-section" data-aos="fade-up" data-aos-duration="600" data-aos-delay="350">
                    <div class="fingerprint-container" id="fingerprintContainer">
                        <div class="fingerprint-glow"></div>
                        <div class="fingerprint-scan-line"></div>
                        <div class="fingerprint-scan-ring"></div>
                        <div class="fingerprint-icon">
                            <i class="fas fa-fingerprint"></i>
                        </div>
                    </div>
                    <p class="fingerprint-hint" id="fingerprintHint">Press & hold to scan</p>
                </div>
            </div>
        </section>

        <section class="social-links">
            <div class="social-grid">
                <!-- Button dengan delay mikro berbeda-beda -->
                <a href="https://instagram.com/dapid_ae02" target="_blank" class="social-btn instagram"
                   data-aos="fade-up" data-aos-duration="400" data-aos-delay="100">
                    <div class="social-icon">
                        <i class="fab fa-instagram"></i>
                    </div>
                    <div class="social-text">
                        <div class="social-name">Instagram Dapid</div>
                    </div>
                    <div class="inner-bg"></div>
                </a>

                <a href="https://tiktok.com/@dapid_ae02" target="_blank" class="social-btn tiktok"
                   data-aos="fade-up" data-aos-duration="400" data-aos-delay="140">
                    <div class="social-icon">
                        <i class="fab fa-tiktok"></i>
                    </div>
                    <div class="social-text">
                        <div class="social-name">TikTok Dapid</div>
                    </div>
                    <div class="inner-bg"></div>
                </a>

                <a href="https://dapid.pages.dev" target="_blank" class="social-btn portfolio"
                   data-aos="fade-up" data-aos-duration="400" data-aos-delay="180">
                    <div class="social-icon">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <div class="social-text">
                        <div class="social-name">Portfolio Dapid</div>
                    </div>
                    <div class="inner-bg"></div>
                </a>

                <a href="https://t.me/dapidd_ae02" target="_blank" class="social-btn telegram"
                   data-aos="fade-up" data-aos-duration="400" data-aos-delay="220">
                    <div class="social-icon">
                        <i class="fab fa-telegram"></i>
                    </div>
                    <div class="social-text">
                        <div class="social-name">Telegram Dapid</div>
                    </div>
                    <div class="inner-bg"></div>
                </a>

                <a href="https://wa.me/6285185025316" target="_blank" class="social-btn whatsapp"
                   data-aos="fade-up" data-aos-duration="400" data-aos-delay="260">
                    <div class="social-icon">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <div class="social-text">
                        <div class="social-name">WhatsApp Dapid</div>
                    </div>
                    <div class="inner-bg"></div>
                </a>

                <a href="https://discord.com/users/dafid.id" target="_blank" class="social-btn discord"
                   data-aos="fade-up" data-aos-duration="400" data-aos-delay="300">
                    <div class="social-icon">
                        <i class="fab fa-discord"></i>
                    </div>
                    <div class="social-text">
                        <div class="social-name">Discord Dapid</div>
                    </div>
                    <div class="inner-bg"></div>
                </a>

                <a href="https://github.com/dapidd12" target="_blank" class="social-btn github"
                   data-aos="fade-up" data-aos-duration="400" data-aos-delay="340">
                    <div class="social-icon">
                        <i class="fab fa-github"></i>
                    </div>
                    <div class="social-text">
                        <div class="social-name">GitHub Dapid</div>
                    </div>
                    <div class="inner-bg"></div>
                </a>

                <a href="mailto:dapidaeixa@gmail.com" target="_blank" class="social-btn gmail"
                   data-aos="fade-up" data-aos-duration="400" data-aos-delay="380">
                    <div class="social-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <div class="social-text">
                        <div class="social-name">Gmail Dapid</div>
                    </div>
                    <div class="inner-bg"></div>
                </a>
            </div>
        </section>

        <footer class="footer">
            <div class="developer-credit" data-aos="fade-in" data-aos-duration="600" data-aos-delay="500">
                Developed by <b>Dapid</b>
            </div>
        </footer>
    </div>

    <script>
        // ==============================================
        // GLOBAL TEMPO SYSTEM - SATU SUMBER KEBENARAN
        // ==============================================
        const GlobalTempo = {
            // STATE: idle â†’ focus â†’ scan â†’ success
            currentState: 'idle',
            
            // TEMPO DURATION (dalam ms)
            durations: {
                idle: 6000,      // 6s - Tenang stabil
                focus: 7000,     // 7s - 16.7% lebih lambat dari idle
                scan: 1500,      // 1.5s - Sama dengan fingerprint scan-ring
                success: 800     // 0.8s - Burst cepat
            },
            
            // ELEMEN YANG DIKONTROL
            elements: {
                snakeTop: null,
                snakeBottom: null,
                fingerprintGlow: null,
                fingerprintScanLine: null,
                fingerprintScanRing: null
            },
            
            // INITIALIZE SYSTEM
            init() {
                // Get all tempo-controlled elements
                this.elements.snakeTop = document.querySelector('.snake-top');
                this.elements.snakeBottom = document.querySelector('.snake-bottom');
                this.elements.fingerprintGlow = document.querySelector('.fingerprint-glow');
                this.elements.fingerprintScanLine = document.querySelector('.fingerprint-scan-line');
                this.elements.fingerprintScanRing = document.querySelector('.fingerprint-scan-ring');
                
                // Start with idle tempo
                this.setState('idle');
                
                console.log('ðŸŽµ Global Tempo System initialized');
            },
            
            // SET STATE - MENGUBAH SEMUA ANIMASI SEKALIGUS
            setState(newState) {
                if (this.currentState === newState) return;
                
                // Check for reduced motion preference
                const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
                if (prefersReducedMotion) {
                    console.log('ðŸŽµ Reduced motion enabled, skipping tempo change');
                    return;
                }
                
                this.currentState = newState;
                const duration = this.durations[newState];
                
                console.log(`ðŸŽµ Tempo changed to: ${newState} (${duration}ms)`);
                
                // Apply tempo to all elements
                this.applyTempoToElements(duration);
                
                // Apply state-specific behaviors
                this.applyStateBehavior(newState);
            },
            
            // APPLY TEMPO TO ALL ELEMENTS
            applyTempoToElements(duration) {
                // Convert ms to seconds for CSS
                const durationSeconds = duration / 1000;
                
                // Dual Snake System
                if (this.elements.snakeTop && this.elements.snakeBottom) {
                    // Snake atas & bawah sinkron dengan tempo yang sama
                    this.elements.snakeTop.style.animation = `rotate-snake-clockwise ${durationSeconds}s linear infinite`;
                    this.elements.snakeBottom.style.animation = `rotate-snake-clockwise ${durationSeconds}s linear infinite`;
                }
                
                // Fingerprint Scan Ring
                if (this.elements.fingerprintScanRing) {
                    this.elements.fingerprintScanRing.style.animationDuration = `${durationSeconds}s`;
                }
            },
            
            // APPLY STATE-SPECIFIC BEHAVIOR
            applyStateBehavior(state) {
                const fingerprintContainer = document.getElementById('fingerprintContainer');
                const fingerprintGlow = this.elements.fingerprintGlow;
                const fingerprintScanLine = this.elements.fingerprintScanLine;
                const fingerprintScanRing = this.elements.fingerprintScanRing;
                
                switch(state) {
                    case 'idle':
                        // Fingerprint: glow tipis, scan-ring nonaktif
                        if (fingerprintGlow) fingerprintGlow.style.opacity = '0';
                        if (fingerprintScanLine) fingerprintScanLine.style.opacity = '0';
                        if (fingerprintScanRing) fingerprintScanRing.style.opacity = '0';
                        
                        // Stop all animations except snakes (they continue with idle tempo)
                        if (fingerprintScanLine) fingerprintScanLine.style.animation = 'none';
                        if (fingerprintGlow) fingerprintGlow.style.animation = 'none';
                        break;
                        
                    case 'focus':
                        // Fingerprint: glow meningkat, hint text lebih jelas
                        if (fingerprintGlow) {
                            fingerprintGlow.style.opacity = '0.3';
                            fingerprintGlow.style.animation = 'pulse-glow 2s ease-in-out infinite alternate';
                        }
                        
                        // Scan-ring muncul tapi belum aktif
                        if (fingerprintScanRing) {
                            fingerprintScanRing.style.opacity = '0.3';
                        }
                        break;
                        
                    case 'scan':
                        // Fingerprint: scan aktif, glow stabil
                        if (fingerprintContainer) {
                            fingerprintContainer.classList.add('scanning');
                        }
                        
                        if (fingerprintGlow) {
                            fingerprintGlow.style.opacity = '0.5';
                            fingerprintGlow.style.animation = 'none'; // Stop pulsing, stay stable
                        }
                        
                        if (fingerprintScanLine) {
                            fingerprintScanLine.style.opacity = '0.4';
                            fingerprintScanLine.style.animation = `scan-move ${this.durations.scan / 1000 * 0.8}s ease-in-out infinite`;
                        }
                        
                        if (fingerprintScanRing) {
                            fingerprintScanRing.style.opacity = '1';
                            fingerprintScanRing.style.animation = `scan-rotate ${this.durations.scan / 1000}s linear infinite`;
                        }
                        break;
                        
                    case 'success':
                        // SUCCESS SEQUENCE - KRITIKAL URUTAN
                        // 1. Dual snake burst cepat
                        this.applyTempoToElements(this.durations.success);
                        
                        // 2. Fingerprint flash success
                        if (fingerprintContainer) {
                            fingerprintContainer.classList.remove('scanning');
                            fingerprintContainer.classList.add('scan-success');
                        }
                        
                        if (fingerprintGlow) {
                            fingerprintGlow.style.opacity = '1';
                            fingerprintGlow.style.animation = 'glow-shrink 0.8s ease forwards';
                        }
                        
                        if (fingerprintScanLine) {
                            fingerprintScanLine.style.opacity = '0';
                            fingerprintScanLine.style.animation = 'none';
                        }
                        
                        if (fingerprintScanRing) {
                            fingerprintScanRing.style.opacity = '0';
                            fingerprintScanRing.style.animation = 'none';
                        }
                        
                        // 3. Freeze snakes for 140ms
                        setTimeout(() => {
                            if (this.elements.snakeTop && this.elements.snakeBottom) {
                                this.elements.snakeTop.style.animationPlayState = 'paused';
                                this.elements.snakeBottom.style.animationPlayState = 'paused';
                            }
                        }, 50);
                        
                        // 4. Return to idle tempo after 140ms
                        setTimeout(() => {
                            // Return snakes to normal
                            if (this.elements.snakeTop && this.elements.snakeBottom) {
                                this.elements.snakeTop.style.animationPlayState = 'running';
                                this.elements.snakeBottom.style.animationPlayState = 'running';
                            }
                            
                            // Set state back to idle
                            this.setState('idle');
                            
                            // Remove success class after animation
                            if (fingerprintContainer) {
                                setTimeout(() => {
                                    fingerprintContainer.classList.remove('scan-success');
                                }, 600);
                            }
                        }, 140);
                        break;
                }
            },
            
            // GET CURRENT DURATION
            getCurrentDuration() {
                return this.durations[this.currentState];
            },
            
            // CHECK IF SYSTEM IS READY
            isReady() {
                return this.elements.snakeTop !== null && 
                       this.elements.snakeBottom !== null;
            }
        };

        // ==============================================
        // GLOBAL STATE MANAGEMENT
        // ==============================================
        let appState = {
            video: {
                attempts: 0,
                maxAttempts: 12,
                isPlaying: false,
                hasError: false
            },
            audio: {
                started: false,
                allowed: false
            },
            loading: {
                isComplete: false,
                resourcesLoaded: 0,
                totalResources: 3 // video, AOS, font awesome
            }
        };

        // ==============================================
        // FINGERPRINT SCAN SYSTEM - IMPROVED WITH STORY & HOLD THRESHOLD
        // ==============================================
        const fingerprintState = {
            lines: [
                "IDENTITY SCAN COMPLETE",
                "Halo, selamat datang.",
                "Namaku DAFID SABRIA GHOFUR.",
                "Biasanya dipanggil DAPID.",
                "Saat ini aku berstatus sebagai PELAJAR.",
                "Aku menempuh pendidikan di SMAN 1 KEMANGKON.",
                "Aku tertarik pada dunia teknologi, pengembangan web, dan eksplorasi digital.",
                "Website ini adalah ruang kecil untuk mengekspresikan ide, eksperimen, dan proses belajar.",
                "Setiap proyek adalah langkah kecil dalam perjalanan panjang.",
                "Tidak sempurna, tapi terus berkembang.",
                "Terima kasih sudah menekan fingerprint dan mengenalku lebih dekat."
            ],
            currentLine: 0,
            currentChar: 0,
            isTyping: false,
            typingSpeed: 40, // ms per character
            lineDelay: 300, // ms between lines
            
            // HOLD THRESHOLD SYSTEM
            holdThreshold: 350, // ms (300-400 sesuai permintaan)
            pressStartTime: 0,
            isPressing: false,
            isScanning: false,
            holdTimer: null,
            scanTimer: null,
            scanDuration: 900 // ms total scan time
        };

        function setupFingerprint() {
            const fingerprintContainer = document.getElementById('fingerprintContainer');
            const fingerprintHint = document.getElementById('fingerprintHint');
            const identityPopup = document.getElementById('identityPopup');
            const closeIdentityPopup = document.getElementById('closeIdentityPopup');
            const identityContent = document.getElementById('identityContent');

            // Reset all fingerprint state
            function resetFingerprintState() {
                clearTimeout(fingerprintState.holdTimer);
                clearTimeout(fingerprintState.scanTimer);
                
                fingerprintState.isPressing = false;
                fingerprintState.isScanning = false;
                fingerprintState.pressStartTime = 0;
                
                // Reset UI state
                fingerprintContainer.classList.remove('scanning', 'scan-success');
                GlobalTempo.setState('idle');
                fingerprintHint.textContent = "Press & hold to scan";
            }

            // POINTERDOWN - Start press detection
            function onPointerDown(e) {
                e.preventDefault();
                if (fingerprintState.isScanning || fingerprintState.isPressing) return;
                
                console.log('ðŸ‘† Fingerprint pointer down');
                
                // Start press state
                fingerprintState.isPressing = true;
                fingerprintState.pressStartTime = Date.now();
                
                // Enter focus tempo
                GlobalTempo.setState('focus');
                fingerprintHint.textContent = "Hold to scan...";
                
                // Start hold threshold timer
                fingerprintState.holdTimer = setTimeout(checkHoldThreshold, fingerprintState.holdThreshold);
            }

            // POINTERUP - End press
            function onPointerUp() {
                console.log('ðŸ‘† Fingerprint pointer up');
                
                // Clear hold timer
                clearTimeout(fingerprintState.holdTimer);
                
                // If scanning, cancel scan
                if (fingerprintState.isScanning) {
                    console.log('ðŸ›‘ Scan cancelled (released before completion)');
                    cancelScan();
                } else if (fingerprintState.isPressing) {
                    // Press was too short
                    console.log('â±ï¸ Press too short, no scan');
                    resetFingerprintState();
                }
                
                fingerprintState.isPressing = false;
            }

            // POINTERCANCEL - Touch/mouse cancelled
            function onPointerCancel() {
                console.log('ðŸ‘† Fingerprint pointer cancelled');
                cancelScan();
                resetFingerprintState();
            }

            // POINTERLEAVE - Pointer left element
            function onPointerLeave() {
                console.log('ðŸ‘† Fingerprint pointer leave');
                
                // If still pressing but left element, cancel
                if (fingerprintState.isPressing) {
                    console.log('ðŸš« Pointer left during press, cancelling');
                    cancelScan();
                    resetFingerprintState();
                }
            }

            // Check if hold threshold reached
            function checkHoldThreshold() {
                if (!fingerprintState.isPressing) return;
                
                const pressDuration = Date.now() - fingerprintState.pressStartTime;
                
                if (pressDuration >= fingerprintState.holdThreshold) {
                    console.log('âœ… Hold threshold reached, starting scan');
                    startScan();
                } else {
                    console.log('âŒ Hold threshold not reached yet');
                }
            }

            // Start scan (after threshold)
            function startScan() {
                if (!fingerprintState.isPressing || fingerprintState.isScanning) return;
                
                fingerprintState.isScanning = true;
                GlobalTempo.setState('scan');
                fingerprintHint.textContent = "Scanning identity...";
                
                console.log('ðŸ” Scan started');
                
                // Start scan completion timer
                fingerprintState.scanTimer = setTimeout(scanComplete, fingerprintState.scanDuration);
            }

            // Cancel scan
            function cancelScan() {
                if (!fingerprintState.isScanning) return;
                
                console.log('ðŸ›‘ Scan cancelled');
                
                clearTimeout(fingerprintState.scanTimer);
                fingerprintState.isScanning = false;
                
                // Flash feedback for cancellation
                fingerprintHint.textContent = "Scan cancelled";
                setTimeout(() => {
                    fingerprintHint.textContent = "Press & hold to scan";
                }, 300);
                
                GlobalTempo.setState('idle');
            }

            // Scan completed successfully
            function scanComplete() {
                if (!fingerprintState.isScanning) return;
                
                console.log('âœ… Scan completed successfully');
                
                fingerprintState.isScanning = false;
                fingerprintState.isPressing = false;
                
                // Trigger success sequence
                GlobalTempo.setState('success');
                fingerprintHint.textContent = "Identity verified";
                
                // Show popup after success animation
                setTimeout(openIdentityPopup, 400);
            }

            // Open identity popup with typewriter effect
            function openIdentityPopup() {
                identityPopup.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Reset and start typing
                resetTyping();
                startTyping();
            }

            // Close identity popup
            function closeIdentityPopupFunc() {
                identityPopup.classList.remove('active');
                document.body.style.overflow = 'auto';
                
                // Stop any ongoing typing
                fingerprintState.isTyping = false;
                
                // Ensure tempo is back to idle
                GlobalTempo.setState('idle');
                
                // Reset fingerprint state after popup close
                setTimeout(resetFingerprintState, 100);
            }

            // Reset typing state
            function resetTyping() {
                fingerprintState.currentLine = 0;
                fingerprintState.currentChar = 0;
                fingerprintState.isTyping = false;
                
                // Clear content
                identityContent.innerHTML = '';
            }

            // Start typewriter effect
            function startTyping() {
                fingerprintState.isTyping = true;
                identityContent.innerHTML = '';
                
                typeNextLine();
            }

            // Type a single line
            function typeLine(lineIndex) {
                if (lineIndex >= fingerprintState.lines.length) {
                    // All lines completed
                    setTimeout(() => {
                        const lines = identityContent.querySelectorAll('.typing-line');
                        if (lines.length > 0) {
                            lines[lines.length - 1].classList.add('typing-complete');
                        }
                    }, 500);
                    return;
                }
                
                const line = fingerprintState.lines[lineIndex];
                const lineElement = document.createElement('div');
                lineElement.className = 'typing-line';
                identityContent.appendChild(lineElement);
                
                let charIndex = 0;
                
                function typeChar() {
                    if (charIndex < line.length && fingerprintState.isTyping) {
                        lineElement.textContent = line.substring(0, charIndex + 1);
                        charIndex++;
                        
                        // Add cursor
                        const cursor = document.createElement('span');
                        cursor.className = 'typing-cursor';
                        lineElement.appendChild(cursor);
                        
                        setTimeout(typeChar, fingerprintState.typingSpeed);
                    } else {
                        // Remove cursor when line is complete
                        const cursor = lineElement.querySelector('.typing-cursor');
                        if (cursor) cursor.remove();
                        
                        // Add cursor to indicate typing is active
                        if (fingerprintState.isTyping && lineIndex < fingerprintState.lines.length - 1) {
                            lineElement.classList.add('typing-complete');
                            
                            // Start next line after delay
                            setTimeout(() => {
                                typeLine(lineIndex + 1);
                            }, fingerprintState.lineDelay);
                        } else if (lineIndex === fingerprintState.lines.length - 1) {
                            lineElement.classList.add('typing-complete');
                            fingerprintState.isTyping = false;
                        }
                    }
                }
                
                typeChar();
            }

            function typeNextLine() {
                if (fingerprintState.currentLine < fingerprintState.lines.length && fingerprintState.isTyping) {
                    typeLine(fingerprintState.currentLine);
                    fingerprintState.currentLine++;
                }
            }

            // Setup event listeners using Pointer Events API
            fingerprintContainer.addEventListener('pointerdown', onPointerDown, { passive: false });
            fingerprintContainer.addEventListener('pointerup', onPointerUp);
            fingerprintContainer.addEventListener('pointercancel', onPointerCancel);
            fingerprintContainer.addEventListener('pointerleave', onPointerLeave);
            
            // Fallback for older browsers
            fingerprintContainer.addEventListener('mousedown', onPointerDown, { passive: false });
            fingerprintContainer.addEventListener('mouseup', onPointerUp);
            fingerprintContainer.addEventListener('mouseleave', onPointerLeave);
            
            fingerprintContainer.addEventListener('touchstart', function(e) {
                onPointerDown(e);
            }, { passive: false });
            
            fingerprintContainer.addEventListener('touchend', onPointerUp);
            fingerprintContainer.addEventListener('touchcancel', onPointerCancel);

            // Close popup events
            closeIdentityPopup.addEventListener('click', closeIdentityPopupFunc);
            
            identityPopup.addEventListener('click', function(e) {
                if (e.target === identityPopup) {
                    closeIdentityPopupFunc();
                }
            });

            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && identityPopup.classList.contains('active')) {
                    closeIdentityPopupFunc();
                }
            });

            // Prevent context menu on fingerprint
            fingerprintContainer.addEventListener('contextmenu', function(e) {
                e.preventDefault();
            }, { passive: false });
            
            // Initialize
            resetFingerprintState();
        }

        // ==============================================
        // SOCIAL BUTTONS - IMPROVED WITH IDENTITY FEEDBACK
        // ==============================================
        function setupSocialButtons() {
            const socialButtons = document.querySelectorAll('.social-btn');
            
            socialButtons.forEach((btn, index) => {
                // Tambahkan delay mikro yang berbeda untuk setiap button
                const baseDelay = 100 + (index * 40);
                btn.style.animationDelay = `${baseDelay}ms`;
                
                // Setup directional feedback berdasarkan posisi cursor
                btn.addEventListener('mousemove', function(e) {
                    if (!appState.loading.isComplete) return;
                    
                    const rect = this.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    // Hitung angle berdasarkan posisi cursor
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    const angle = Math.atan2(y - centerY, x - centerX) * (180 / Math.PI);
                    
                    // Set transform origin untuk directional effect
                    this.style.setProperty('--cursor-angle', `${angle}deg`);
                    this.querySelector('::before')?.style.setProperty('transform-origin', `${x}px ${y}px`);
                });
                
                // Click effect dengan snake freeze dan inner pressure
                btn.addEventListener('mousedown', function() {
                    if (!appState.loading.isComplete) return;
                    
                    this.classList.add('clicking');
                    
                    // Freeze snake animation selama 150ms
                    setTimeout(() => {
                        this.classList.remove('clicking');
                    }, 150);
                });
                
                btn.addEventListener('mouseup', function() {
                    this.classList.remove('clicking');
                });
                
                // Untuk touch devices
                btn.addEventListener('touchstart', function() {
                    if (!appState.loading.isComplete) return;
                    
                    this.classList.add('clicking');
                    
                    setTimeout(() => {
                        this.classList.remove('clicking');
                    }, 150);
                }, { passive: true });
                
                btn.addEventListener('touchend', function() {
                    this.classList.remove('clicking');
                }, { passive: true });
            });
        }

        // ==============================================
        // BACKGROUND AUDIO SYSTEM - OPTIMIZED
        // ==============================================
        const bgMusic = document.getElementById('bg-music');
        
        function startAudio() {
            if (appState.audio.started || !appState.audio.allowed) return;
            
            const playPromise = bgMusic.play();
            if (playPromise !== undefined) {
                playPromise
                    .then(() => {
                        appState.audio.started = true;
                        console.log('Background music started');
                    })
                    .catch(error => {
                        console.log('Audio playback failed:', error.name);
                    });
            }
        }

        // Single unified audio trigger
        function enableAudioPlayback() {
            appState.audio.allowed = true;
            startAudio();
        }

        // ==============================================
        // AOS ANIMATION SYSTEM
        // ==============================================
        function loadAOS() {
            const script = document.createElement('script');
            script.src = 'https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js';
            script.crossOrigin = 'anonymous';
            script.onload = initAOS;
            document.head.appendChild(script);
        }

        function initAOS() {
            const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

            AOS.init({
                duration: prefersReducedMotion ? 0 : 400,
                offset: 100,
                delay: 0,
                once: true,
                mirror: false,
                disable: prefersReducedMotion,
                throttleDelay: 99,
                debounceDelay: 50
            });
            
            markResourceLoaded();
        }

        // ==============================================
        // VIDEO BACKGROUND SYSTEM - OPTIMIZED
        // ==============================================
        function setupVideoBackground() {
            const video = document.getElementById('bg-video');
            const fallback = document.getElementById('videoFallback');

            console.log('ðŸš€ Initializing optimized video system');

            // Optimized play function with limited retries
            function attemptVideoPlay() {
                if (appState.video.hasError || appState.video.attempts >= appState.video.maxAttempts) {
                    console.log('Video playback failed, activating fallback');
                    fallback.classList.add('active');
                    video.style.display = 'none';
                    markResourceLoaded();
                    return;
                }

                appState.video.attempts++;
                
                video.play()
                    .then(() => {
                        console.log('âœ… Video playing successfully');
                        appState.video.isPlaying = true;
                        appState.video.attempts = 0;
                        video.style.opacity = '1';
                        fallback.classList.remove('active');
                        markResourceLoaded();
                    })
                    .catch(error => {
                        console.log(`Video play attempt ${appState.video.attempts} failed:`, error.name);
                        
                        // Wait before retrying with exponential backoff
                        const delay = Math.min(500 * appState.video.attempts, 2000);
                        setTimeout(attemptVideoPlay, delay);
                    });
            }

            // Event-driven video management
            video.addEventListener('loadeddata', function() {
                console.log('Video data loaded, attempting play');
                attemptVideoPlay();
            });

            video.addEventListener('error', function(e) {
                console.log('Video error:', video.error);
                
                // Fatal error handling
                if (video.error && (video.error.code === 4 || video.networkState === 3)) {
                    appState.video.hasError = true;
                    console.log('Fatal video error, activating fallback');
                    fallback.classList.add('active');
                    markResourceLoaded();
                }
            });

            video.addEventListener('stalled', function() {
                console.log('Video stalled, attempting recovery');
                if (!appState.video.isPlaying && appState.video.attempts < appState.video.maxAttempts) {
                    video.load();
                    setTimeout(attemptVideoPlay, 500);
                }
            });

            // Tab visibility management
            document.addEventListener('visibilitychange', function() {
                if (document.hidden) {
                    video.pause();
                } else if (appState.video.isPlaying && !video.paused) {
                    video.play().catch(() => {
                        // Silent catch for background tab resume
                    });
                }
            });

            // Initial load
            video.load();
        }

        // ==============================================
        // LOADING SYSTEM - RESOURCE BASED
        // ==============================================
        function markResourceLoaded() {
            appState.loading.resourcesLoaded++;
            checkLoadingComplete();
        }

        function checkLoadingComplete() {
            if (appState.loading.isComplete) return;
            
            // Consider loaded when either:
            // 1. All resources loaded, OR
            // 2. Window loaded and at least video attempted
            const windowLoaded = document.readyState === 'complete';
            const resourcesDone = appState.loading.resourcesLoaded >= appState.loading.totalResources;
            const videoAttempted = appState.video.attempts > 0;
            
            if ((windowLoaded && videoAttempted) || resourcesDone) {
                completeLoading();
            }
        }

        function completeLoading() {
            if (appState.loading.isComplete) return;
            
            appState.loading.isComplete = true;
            const loadingScreen = document.getElementById('loading');
            
            // Hide loading screen
            loadingScreen.classList.add('hidden');
            
            // Show welcome modal with slight delay for smooth transition
            setTimeout(() => {
                const welcomeModal = document.getElementById('welcomeModal');
                welcomeModal.classList.remove('hidden');
            }, 300);
            
            console.log('Page loading complete');
        }

        // ==============================================
        // FULLSCREEN IMAGE FUNCTIONALITY
        // ==============================================
        function setupProfileImage() {
            const profilePhotoContainer = document.getElementById('profilePhotoContainer');
            const profilePhoto = document.getElementById('profilePhoto');
            const fullscreenImage = document.getElementById('fullscreenImage');
            const fullscreenOverlay = document.getElementById('fullscreenOverlay');
            const closeFullscreen = document.getElementById('closeFullscreen');

            function openFullscreen() {
                fullscreenImage.src = profilePhoto.src;
                fullscreenOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            function closeFullscreenOverlay() {
                fullscreenOverlay.classList.remove('active');
                document.body.style.overflow = 'auto';
            }

            profilePhotoContainer.addEventListener('click', openFullscreen);
            closeFullscreen.addEventListener('click', closeFullscreenOverlay);
            
            fullscreenOverlay.addEventListener('click', (e) => {
                if (e.target === fullscreenOverlay) {
                    closeFullscreenOverlay();
                }
            });

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && fullscreenOverlay.classList.contains('active')) {
                    closeFullscreenOverlay();
                }
            });
        }

        // ==============================================
        // DUAL SNAKE CONTROL - NOW INTEGRATED WITH GLOBAL TEMPO
        // ==============================================
        function setupDualSnake() {
            const profileContainer = document.getElementById('profilePhotoContainer');

            // Hover profil mengaktifkan tempo focus
            profileContainer.addEventListener('mouseenter', () => {
                GlobalTempo.setState('focus');
            });

            profileContainer.addEventListener('mouseleave', () => {
                // Kembali ke idle hanya jika fingerprint tidak sedang fokus
                const fingerprintContainer = document.getElementById('fingerprintContainer');
                const isFingerprintHovered = fingerprintContainer.matches(':hover') || 
                                            fingerprintContainer.classList.contains('scanning');
                
                if (!isFingerprintHovered) {
                    GlobalTempo.setState('idle');
                }
            });

            // Click profile - temporary tempo change
            profileContainer.addEventListener('mousedown', () => {
                // Temporary fast tempo during click
                GlobalTempo.applyTempoToElements(GlobalTempo.durations.success);
            });

            profileContainer.addEventListener('mouseup', () => {
                // Return to current state tempo
                GlobalTempo.applyTempoToElements(GlobalTempo.getCurrentDuration());
            });

            // For touch devices
            profileContainer.addEventListener('touchstart', () => {
                GlobalTempo.applyTempoToElements(GlobalTempo.durations.success);
            }, { passive: true });

            profileContainer.addEventListener('touchend', () => {
                setTimeout(() => {
                    GlobalTempo.applyTempoToElements(GlobalTempo.getCurrentDuration());
                }, 150);
            }, { passive: true });
        }

        // ==============================================
        // MAIN INITIALIZATION
        // ==============================================
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing app');
            
            // Initialize Global Tempo System FIRST
            GlobalTempo.init();
            
            // Load AOS animations
            loadAOS();
            
            // Setup fingerprint functionality dengan cerita DAN HOLD THRESHOLD
            setupFingerprint();
            
            // Setup social buttons dengan identity feedback
            setupSocialButtons();
            
            // Setup profile image functionality
            setupProfileImage();
            
            // Setup dual snake system (now integrated with Global Tempo)
            setupDualSnake();
            
            // Setup video background
            setupVideoBackground();
            
            // Setup welcome modal
            const closeWelcomeBtn = document.getElementById('closeWelcome');
            const welcomeModal = document.getElementById('welcomeModal');
            
            closeWelcomeBtn.addEventListener('click', function() {
                welcomeModal.classList.add('hidden');
                enableAudioPlayback();
            });

            // Mark font awesome as loaded
            if (document.fonts && document.fonts.ready) {
                document.fonts.ready.then(() => {
                    markResourceLoaded();
                });
            } else {
                // Fallback
                setTimeout(() => markResourceLoaded(), 500);
            }

            // Single audio trigger on first user interaction
            document.addEventListener('click', enableAudioPlayback, { once: true });
            document.addEventListener('touchstart', enableAudioPlayback, { once: true });
            document.addEventListener('scroll', enableAudioPlayback, { once: true, passive: true });

            // Check window load state
            window.addEventListener('load', checkLoadingComplete);
        });

        // ==============================================
        // ERROR HANDLING
        // ==============================================
        bgMusic.addEventListener('error', function() {
            console.log('Background music failed to load');
            appState.audio.allowed = false;
        });

        // ==============================================
        // SECURITY MEASURES (Low overhead)
        // ==============================================
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        }, { passive: false });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12' || 
                (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J')) ||
                (e.ctrlKey && e.key === 'u')) {
                e.preventDefault();
            }
        }, { passive: false });
    </script>
</body>
</html>